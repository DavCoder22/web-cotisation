{"ast":null,"code":"import axios from \"axios\";\nimport { createClient } from \"@supabase/supabase-js\";\nconst supabase = createClient(\"https://tu-supabase-url.supabase.co\", \"tu-clave-publica\");\nexport default {\n  data() {\n    return {\n      form: {\n        largo: \"\",\n        ancho: \"\",\n        alto: \"\",\n        densidad_infill: \"\",\n        velocidad_impresion: \"\",\n        tipo_filamento: \"pla\",\n        acabados: \"false\",\n        tiempo_impresion: \"\",\n        peso_modelo: \"\",\n        filamento_consumido: \"\",\n        costo_envio: \"\"\n      },\n      cotizacion: null\n    };\n  },\n  methods: {\n    async cotizar() {\n      try {\n        const response = await axios.post(\"http://localhost:5000/cotizar\", this.form);\n        this.cotizacion = response.data;\n      } catch (error) {\n        console.error(\"Error al calcular la cotización:\", error);\n      }\n    },\n    async guardarPedido() {\n      try {\n        const {\n          error\n        } = await supabase.from(\"pedidos\").insert([{\n          ...this.form,\n          total: this.cotizacion.total\n        }]);\n        if (error) throw error;\n        alert(\"Pedido guardado exitosamente.\");\n      } catch (error) {\n        console.error(\"Error al guardar el pedido:\", error);\n        alert(\"No se pudo guardar el pedido.\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","createClient","supabase","data","form","largo","ancho","alto","densidad_infill","velocidad_impresion","tipo_filamento","acabados","tiempo_impresion","peso_modelo","filamento_consumido","costo_envio","cotizacion","methods","cotizar","response","post","error","console","guardarPedido","from","insert","total","alert"],"sources":["D:\\web-cotizador\\frontend\\src\\components\\CotizadorPrincipal.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Cotizador de Impresión 3D</h1>\n    <form @submit.prevent=\"cotizar\">\n      <label>Largo del modelo (cm):</label>\n      <input type=\"number\" v-model=\"form.largo\" required />\n\n      <label>Ancho del modelo (cm):</label>\n      <input type=\"number\" v-model=\"form.ancho\" required />\n\n      <label>Alto del modelo (cm):</label>\n      <input type=\"number\" v-model=\"form.alto\" required />\n\n      <label>Densidad de infill (%):</label>\n      <input type=\"number\" v-model=\"form.densidad_infill\" required />\n\n      <label>Velocidad de impresión (mm/s):</label>\n      <input type=\"number\" v-model=\"form.velocidad_impresion\" required />\n\n      <label>Tipo de filamento:</label>\n      <select v-model=\"form.tipo_filamento\" required>\n        <option value=\"pla\">PLA</option>\n        <option value=\"ptge\">PTGE</option>\n        <option value=\"abs\">ABS</option>\n        <option value=\"tpu\">TPU</option>\n      </select>\n\n      <label>¿Requiere acabados?</label>\n      <select v-model=\"form.acabados\" required>\n        <option value=\"true\">Sí</option>\n        <option value=\"false\">No</option>\n      </select>\n\n      <label>Tiempo de impresión (horas):</label>\n      <input type=\"number\" v-model=\"form.tiempo_impresion\" required />\n\n      <label>Peso del modelo (g):</label>\n      <input type=\"number\" v-model=\"form.peso_modelo\" required />\n\n      <label>Filamento consumido (metros):</label>\n      <input type=\"number\" v-model=\"form.filamento_consumido\" required />\n\n      <label>Costo de envío:</label>\n      <input type=\"number\" v-model=\"form.costo_envio\" required />\n\n      <button type=\"submit\">Calcular Cotización</button>\n    </form>\n\n    <div v-if=\"cotizacion\">\n      <h2>Resultado de la Cotización</h2>\n      <pre>{{ cotizacion }}</pre>\n      <button @click=\"guardarPedido\">Confirmar Pedido</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { createClient } from \"@supabase/supabase-js\";\n\nconst supabase = createClient(\"https://tu-supabase-url.supabase.co\", \"tu-clave-publica\");\n\nexport default {\n  data() {\n    return {\n      form: {\n        largo: \"\",\n        ancho: \"\",\n        alto: \"\",\n        densidad_infill: \"\",\n        velocidad_impresion: \"\",\n        tipo_filamento: \"pla\",\n        acabados: \"false\",\n        tiempo_impresion: \"\",\n        peso_modelo: \"\",\n        filamento_consumido: \"\",\n        costo_envio: \"\",\n      },\n      cotizacion: null,\n    };\n  },\n  methods: {\n    async cotizar() {\n      try {\n        const response = await axios.post(\"http://localhost:5000/cotizar\", this.form);\n        this.cotizacion = response.data;\n      } catch (error) {\n        console.error(\"Error al calcular la cotización:\", error);\n      }\n    },\n    async guardarPedido() {\n      try {\n        const { error } = await supabase.from(\"pedidos\").insert([{ ...this.form, total: this.cotizacion.total }]);\n        if (error) throw error;\n        alert(\"Pedido guardado exitosamente.\");\n      } catch (error) {\n        console.error(\"Error al guardar el pedido:\", error);\n        alert(\"No se pudo guardar el pedido.\");\n      }\n    },\n  },\n};\n</script>\n\n<style>\nform {\n  display: flex;\n  flex-direction: column;\n  max-width: 400px;\n}\nlabel {\n  margin-top: 10px;\n}\nbutton {\n  margin-top: 20px;\n}\n</style>\n"],"mappings":"AAyDA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,YAAW,QAAS,uBAAuB;AAEpD,MAAMC,QAAO,GAAID,YAAY,CAAC,qCAAqC,EAAE,kBAAkB,CAAC;AAExF,eAAe;EACbE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,EAAE;QACRC,eAAe,EAAE,EAAE;QACnBC,mBAAmB,EAAE,EAAE;QACvBC,cAAc,EAAE,KAAK;QACrBC,QAAQ,EAAE,OAAO;QACjBC,gBAAgB,EAAE,EAAE;QACpBC,WAAW,EAAE,EAAE;QACfC,mBAAmB,EAAE,EAAE;QACvBC,WAAW,EAAE;MACf,CAAC;MACDC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,OAAOA,CAAA,EAAG;MACd,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMnB,KAAK,CAACoB,IAAI,CAAC,+BAA+B,EAAE,IAAI,CAAChB,IAAI,CAAC;QAC7E,IAAI,CAACY,UAAS,GAAIG,QAAQ,CAAChB,IAAI;MACjC,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC1D;IACF,CAAC;IACD,MAAME,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAM;UAAEF;QAAM,IAAI,MAAMnB,QAAQ,CAACsB,IAAI,CAAC,SAAS,CAAC,CAACC,MAAM,CAAC,CAAC;UAAE,GAAG,IAAI,CAACrB,IAAI;UAAEsB,KAAK,EAAE,IAAI,CAACV,UAAU,CAACU;QAAM,CAAC,CAAC,CAAC;QACzG,IAAIL,KAAK,EAAE,MAAMA,KAAK;QACtBM,KAAK,CAAC,+BAA+B,CAAC;MACxC,EAAE,OAAON,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDM,KAAK,CAAC,+BAA+B,CAAC;MACxC;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}